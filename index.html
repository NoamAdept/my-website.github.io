<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chop & Learn Resume Game</title>
  <style>
    body { margin: 0; background: #87ceeb; overflow: hidden; }
    #gameCanvas { display: block; background: #228B22; image-rendering: pixelated; }
    #info { position: absolute; top: 10px; left: 10px; width: 300px; padding: 10px; background: rgba(0,0,0,0.5); color: #fff; font-family: monospace; font-size: 14px; max-height: 90vh; overflow-y: auto; }
  </style>
</head>
<body>
  <canvas id="gameCanvas" width="800" height="400"></canvas>
  <div id="info"><strong>Chop trees to learn about Noam:</strong></div>
  <script>
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    ctx.imageSmoothingEnabled = false;

    const tile = 20;
    const groundY = canvas.height - tile * 2;

    let man = { x: 100, y: groundY, width: tile, height: tile * 2, vx: 0, vy: 0, speed: 2 };
    let trees = [];
    let keys = {};
    let lastSpawn = 0;

    const resumeFacts = [
      'üë®‚Äçüíª B.S. in CS & Math, ASU, Summa Cum Laude (May 2025)',
      'üíº Software Engineer @ TechCorp (2025-Present)',
      'üõ†Ô∏è Intern @ ASU Research Lab (2024-2025)',
      'üìú Skills: JavaScript, Python, React, Phaser.js, HTML/CSS'
    ];
    let factIndex = 0;

    const infoDiv = document.getElementById('info');

    function spawnTree() {
      const x = canvas.width + tile;
      trees.push({ x, y: groundY - tile, width: tile, height: tile * 2 });
    }

    function update(dt) {
      // controls
      man.vx = 0;
      if (keys['ArrowLeft']) man.vx = -man.speed;
      if (keys['ArrowRight']) man.vx = man.speed;
      // apply
      man.x += man.vx;
      // spawn
      lastSpawn += dt;
      if (lastSpawn > 1500) { spawnTree(); lastSpawn = 0; }
      // move trees
      trees.forEach(t => t.x -= 1.5);
      // collision and chop
      if (keys['KeyC']) {
        trees = trees.filter(t => {
          if (man.x + man.width > t.x && man.x < t.x + t.width) {
            // chopped
            if (factIndex < resumeFacts.length) {
              const p = document.createElement('p');
              p.textContent = resumeFacts[factIndex++];
              infoDiv.appendChild(p);
            }
            return false; // remove tree
          }
          return true;
        });
        keys['KeyC'] = false;
      }
      // remove off-screen
      trees = trees.filter(t => t.x + t.width > 0);
    }

    function draw() {
      // clear
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      // draw ground
      ctx.fillStyle = '#8B4513';
      ctx.fillRect(0, groundY + man.height, canvas.width, canvas.height - groundY - man.height);
      // draw man (8-bit style)
      ctx.fillStyle = '#000';
      ctx.fillRect(man.x, man.y, man.width, man.height);
      // draw trees
      trees.forEach(t => {
        // trunk
        ctx.fillStyle = '#654321';
        ctx.fillRect(t.x + t.width/3, t.y + t.height/2, t.width/3, t.height/2);
        // leaves
        ctx.fillStyle = '#0a0';
        ctx.fillRect(t.x, t.y, t.width, t.height/2);
      });
    }

    let lastTime = 0;
    function loop(time = 0) {
      const dt = time - lastTime;
      lastTime = time;
      update(dt);
      draw();
      requestAnimationFrame(loop);
    }
    requestAnimationFrame(loop);

    // input
    window.addEventListener('keydown', e => { keys[e.code] = true; });
    window.addEventListener('keyup', e => { keys[e.code] = false; });

    // instructions
    const instr = document.createElement('p');
    instr.textContent = "‚Üê ‚Üí to move, C to chop";
    infoDiv.appendChild(instr);
  </script>
</body>
</html>
